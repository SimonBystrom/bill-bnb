<!-- IF THE OWNER AND HAS PENDING BOOKINGS -->

<% if owner && booking.pending? %>
  <div class="d-flex p-3 mb-3  booking-card">
    <div class="location-info flex-grow-1  d-flex flex-column justify-content-start">
      <div>
        <h3> <%= booking.location.name %> </h3>
        <p> <%= booking.location.description %> </p>
      </div>
      <div class="d-flex">
        <div class=' d-flex flex-grow-1'>
          <h5 class= 'mr-2'> $<%= booking.location.price_per_day %> </h5>
          <p style='color: $light-gray'>per day</p>
        </div>

        <h5 class="mr-3"><i class="fas fa-user-friends"></i> <%= booking.location.capacity %> </h5>
      </div>
      <div class="d-flex justify-content-around">
        <%= simple_form_for booking do |f| %>
          <%= f.input :status, as: :hidden, input_html: { value: 'confirmed' } %>
          <%= f.submit 'Accept', class: 'button-small button-success' %>
        <% end %>
        <%= simple_form_for booking do |f| %>
          <%= f.input :status, as: :hidden, input_html: { value: 'rejected' } %>
          <%= f.submit 'Reject', class: 'button-small button-alert' %>
        <% end %>
      </div>
    </div>
    <%= cl_image_tag(booking.location.photo.key, class: 'rounded-sm') %>
  </div>
<% end %>

<!-- IF NOT THE OWNER AND BOOKING IS PENDING-->

<% unless owner %>
  <% if status == 'pending' %>
    <div class="d-flex p-3 mb-3  booking-card">
      <div class="location-info flex-grow-1  d-flex flex-column justify-content-start">
        <div>
          <h3> <%= booking.location.name %> </h3>
          <p> <%= booking.location.description %> </p>
        </div>
        <div class="d-flex">
          <div class=' d-flex flex-grow-1'>
            <h5 class= 'mr-2'> $<%= booking.location.price_per_day %> </h5>
            <p style='color: $light-gray'>per day</p>
          </div>
          <h5 class="mr-3"><i class="fas fa-user-friends"></i> <%= booking.location.capacity %> </h5>
        </div>
        <p> <%= booking.start_date.strftime('%A, %b %d') %> ~ <%= booking.end_date.strftime('%A, %b %d') %> </p>
          <div class="d-flex align-items-center booking-status booking-pending">
            <i class="fas fa-question-circle"></i>
            <p><%= booking.status %></p>
          </div>
      </div>
      <%= cl_image_tag(booking.location.photo.key, class: 'rounded-sm') %>
    </div>
  <% end %>


<!-- IF BOOKING IS CONFIRMED -->

  <% if status == 'confirmed' %>
    <div class="d-flex p-3 mb-3  booking-card">
      <div class="location-info flex-grow-1  d-flex flex-column justify-content-start">
        <div>
          <h3> <%= booking.location.name %> </h3>
          <p> <%= booking.location.description %> </p>
        </div>
        <div class="d-flex">
          <div class=' d-flex flex-grow-1'>
            <h5 class= 'mr-2'> $<%= booking.location.price_per_day %> </h5>
            <p style='color: $light-gray'>per day</p>
          </div>
          <h5 class="mr-3"><i class="fas fa-user-friends"></i> <%= booking.location.capacity %> </h5>
        </div>
        <p> <%= booking.start_date.strftime('%A, %b %d') %> ~ <%= booking.end_date.strftime('%A, %b %d') %> </p>
         <div class="d-flex align-items-center booking-status booking-confirmed">
            <i class="fas fa-check-circle"></i>
            <p><%= booking.status %></p>
          </div>
      </div>
      <%= cl_image_tag(booking.location.photo.key, class: 'rounded-sm') %>
    </div>
  <% end %>

<!--   IF THE BOOKING IS STATUS REJECTED -->

  <% if status == 'rejected' %>
    <div class="d-flex p-3 mb-3  booking-card">
      <div class="location-info flex-grow-1  d-flex flex-column justify-content-start">
        <div>
          <h3> <%= booking.location.name %> </h3>
          <p> <%= booking.location.description %> </p>
        </div>
        <div class="d-flex">
          <div class=' d-flex flex-grow-1'>
            <h5 class= 'mr-2'> $<%= booking.location.price_per_day %> </h5>
            <p style='color: $light-gray'>per day</p>
          </div>
          <h5 class="mr-3"><i class="fas fa-user-friends"></i> <%= booking.location.capacity %> </h5>
        </div>
        <p> <%= booking.start_date.strftime('%A, %b %d') %> ~ <%= booking.end_date.strftime('%A, %b %d') %> </p>
         <div class="d-flex align-items-center booking-status booking-rejected">
            <i class="fas fa-times-circle"></i>
            <p><%= booking.status %></p>
          </div>
      </div>
      <%= cl_image_tag(booking.location.photo.key, class: 'rounded-sm') %>
    </div>
  <% end %>
<% end %>











